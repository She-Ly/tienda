{%extends './base.html'%}

{% block title%}Inicio de Sesión {%endblock%}
{%block customCSS%}
<link rel="stylesheet" href="{{url_for('static', filename='css/login.css')}}">
    {%endblock%}

{%block body%}
<form class="form-signin" action="/login" method="POST">
    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
    <img class="mb-4" src="{{url_for('static',filename='img/loginfresa.svg')}}" alt="" width="72" height="72">
    <h1 class="h3 mb-3 font-weight-normal">Inicio de Sesión</h1>
    <label for="inputEmail" class="sr-only">Usuario</label>
    <input type="text" name="usuario"id="inputEmail" class="form-control" placeholder="Usuario" required autofocus>
    <br/>
    <label for="inputPassword" class="sr-only">Password</label>
    <input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password" required minlength="6">
    <div class="checkbox mb-3">
      <label class="remember">
        <input type="checkbox" value="remember-me"> Remember me
      </label>
    </div>
    <button class="btn btn-lg btn-light btn-block" id="button" type="submit">Log in</button>
    {% with messages = get_flashed_messages(with_categories=True)%}
    {% if messages%}
    <br/>
    {%for category, message in messages%}
    {%if category == 'warning'%}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong style='font-size: 14px;'> {{ message }}</strong> 
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {%else %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong style='font-size: 14px;'> {{ message }}</strong> 
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {%endif%}
    {%endfor%}
    {%endif%}
    {%endwith%}
    <p class="mt-5 mb-3 text-muted">&copy; 2023</p>
</form>

{%block customJS%}
<script src="{{url_for('static',filename='js/login.js')}}"></script>
    {% endblock %}

{%endblock%}